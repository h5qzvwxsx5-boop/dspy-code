# Interactive Mode

Master the DSPy Code interactive environment for efficient DSPy development.

## What is Interactive Mode?

Interactive Mode is the **primary interface** for DSPy Code. It provides:

- Natural language code generation
- Conversational workflow
- Context-aware responses
- Session persistence
- Real-time validation

**Start interactive mode:**

```bash
dspy-code
```

## The Welcome Screen

When you start DSPy Code, you see:

```
âœ“ DSPy Version: 3.0.4

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                              â•‘
â•‘            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—          â•‘
â•‘            â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘          â•‘
â•‘            â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘          â•‘
â•‘            â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•   â•šâ–ˆâ–ˆâ•”â•      â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘          â•‘
â•‘            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘        â–ˆâ–ˆâ•‘       â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘          â•‘
â•‘            â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•        â•šâ•â•        â•šâ•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•          â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                    âœ¨ Your AI-Powered DSPy Development Assistant: Claude Code for DSPy âœ¨

âš¡ Get Started:

  /intro    - Complete guide & all features
  /init     - Initialize your project
  /demo     - See it in action
  /help     - View all commands

ğŸ’¬ Or just describe what you want to build in natural language!

ğŸ’¡ New here? Try /demo or /init to get started

ğŸš€ Ready! New here? Try /intro for the complete guide!

ğŸ’­ Try: "Create a signature for..." or "Build a module using..." or "/help" for
commands

â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ âœ¨ Your Message â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ Type your request here... (or /help for commands)                            â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
  â†’
```

**Key information displayed:**

- âœ… Your DSPy version
- âœ… Quick start commands
- âœ… Usage hints
- âœ… Input prompt

## Basic Usage

### Natural Language Requests

Simply describe what you want:

```
Build a module for sentiment analysis
```

```
Create a signature for email classification with subject and body as inputs
```

```
Generate a complete RAG system for document Q&A
```

DSPy Code understands your intent and generates appropriate code!

### Slash Commands

Use `/` prefix for specific commands:

```
/help
/init
/connect ollama llama3.1:8b
/save my_module.py
/validate
/run
/status
```

[See all slash commands â†’](slash-commands.md)

### Mixed Interaction

Combine natural language and commands:

```
â†’ Create a sentiment analyzer
  [Code generated]

â†’ /save sentiment.py
  âœ“ Saved!

â†’ Add error handling to it
  [Code updated]

â†’ /validate
  âœ“ Valid!

â†’ /run
  [Execution results]
```

## Session Context

### What's in Context?

The session maintains:

**1. Generated Code:**

```python
context['last_generated'] = "..."
context['type'] = 'module'
```

**2. Generated Data:**

```python
context['last_generated_data'] = [...]
context['data_task'] = 'sentiment'
```

**3. Conversation History:**

```python
context['history'] = [
    {'role': 'user', 'content': '...'},
    {'role': 'assistant', 'content': '...'}
]
```

**4. Model Connection:**

```python
context['model'] = {
    'provider': 'ollama',
    'model': 'llama3.1:8b',
    'connected': True
}
```

### Check Context

Use `/status` to see what's in context:

```
/status
```

**Output:**

```
Current Session Status:

âœ“ Generated Code: Module (1,234 chars)
  Use /save <filename>, /validate, /run

âœ— No Generated Data
  Try: "Generate 20 examples for sentiment analysis"

âœ“ Model Connected: llama3.1:8b (ollama)

âœ“ Project Initialized: my-dspy-project
  Use /init to re-index or update

âœ“ Codebase Index Loaded: 3,421 elements
```

### Clear Context

Clear conversation history:

```
/clear
```

**What's cleared:**

- Conversation history
- Generated code
- Generated data

**What's kept:**

- Model connection
- Project configuration
- Codebase index

## Conversation Flow

### Typical Workflow

**1. Initialize project:**

```
â†’ /init
  [Project setup]
```

**2. Connect model:**

```
â†’ /connect ollama llama3.1:8b
  âœ“ Connected!
```

**3. Generate code:**

```
â†’ Create a text classifier
  [Code generated]
```

**4. Save code:**

```
â†’ /save classifier.py
  âœ“ Saved!
```

**5. Validate:**

```
â†’ /validate
  âœ“ Valid!
```

**6. Test:**

```
â†’ /run
  [Results]
```

**7. Iterate:**

```
â†’ Add confidence scores to the output
  [Code updated]

â†’ /save classifier.py
  âœ“ Updated!
```

### Iterative Development

Refine code through conversation:

```
â†’ Create a sentiment analyzer
  [Initial code]

â†’ Use ChainOfThought instead of Predict
  [Updated with ChainOfThought]

â†’ Add a confidence score output field
  [Added confidence field]

â†’ Add error handling for empty input
  [Added validation]

â†’ /save sentiment_analyzer.py
  âœ“ Saved!
```

### Multi-Step Tasks

Break complex tasks into steps:

```
â†’ I want to build a RAG system

  Great! Let's break this down:
  1. Create retrieval signature
  2. Create generation signature
  3. Build RAG module
  4. Add example usage

  Ready to start?

â†’ Yes, start with step 1

  [Retrieval signature generated]

â†’ Looks good, next step

  [Generation signature generated]

â†’ Continue

  [RAG module generated]

â†’ /save rag_system.py
  âœ“ Complete RAG system saved!
```

## Advanced Features

### Code Refinement

Ask for specific improvements:

```
â†’ Optimize the last generated code for performance
â†’ Add type hints to all functions
â†’ Add docstrings following Google style
â†’ Refactor to use fewer API calls
â†’ Make it more modular
```

### Code Explanation

Ask questions about generated code:

```
â†’ Explain how the ChainOfThought works in this code
â†’ What does the forward method do?
â†’ Why did you use this signature structure?
```

### DSPy Concepts

Learn while you code:

```
â†’ What's the difference between Predict and ChainOfThought?
â†’ When should I use ReAct?
â†’ How do I optimize this module?
â†’ What are best practices for signatures?
```

### Project-Specific Questions

Ask about your codebase:

```
â†’ What modules do I have in my project?
â†’ Show me my existing signatures
â†’ How does my RAG module work?
â†’ What's the structure of my project?
```

## Session Management

### Save Sessions

Save your work:

```
/session save my-rag-project
```

**What's saved:**

- Generated code
- Training data
- Conversation history
- Model configuration
- Project context

### Load Sessions

Resume previous work:

```
/session load my-rag-project
```

**What's restored:**

- All generated code
- Training data
- Conversation history
- Model connection
- Project state

### List Sessions

See all saved sessions:

```
/sessions list
```

**Output:**

```
Saved Sessions:

1. my-rag-project
   Created: 2025-01-15 14:30
   Last modified: 2025-01-15 16:45
   Size: 45 KB

2. sentiment-analyzer
   Created: 2025-01-14 10:20
   Last modified: 2025-01-14 12:30
   Size: 23 KB

3. email-classifier
   Created: 2025-01-13 09:15
   Last modified: 2025-01-13 11:00
   Size: 31 KB
```

### Delete Sessions

Remove old sessions:

```
/session delete old-project
```

## Tips and Tricks

### 1. Use Tab Completion

Press `Tab` to autocomplete:

- Slash commands
- File names
- Model names
- Server names

### 2. Use History

Press `â†‘` to cycle through previous commands.

### 3. Multi-Line Input

For long requests, use natural line breaks:

```
â†’ Create a module that:
  - Takes a question and context
  - Uses ChainOfThought for reasoning
  - Returns an answer with confidence
  - Handles edge cases
```

### 4. Quick Edits

Reference previous code:

```
â†’ Create a classifier
  [Code generated]

â†’ Change the predictor to ReAct
  [Updated]

â†’ Add another output field called "reasoning"
  [Updated]
```

### 5. Batch Operations

Do multiple things at once:

```
â†’ Create a sentiment analyzer, validate it, and save it as sentiment.py
  [Generated, validated, saved]
```

### 6. Use Examples

Provide examples for better results:

```
â†’ Create a classifier that categorizes:
  - "I love this!" â†’ positive
  - "This is terrible" â†’ negative
  - "It's okay" â†’ neutral
```

### 7. Ask for Alternatives

Get different approaches:

```
â†’ Show me 3 different ways to implement this
â†’ What's a simpler version?
â†’ What's a more advanced version?
```

## Keyboard Shortcuts

| Shortcut | Action |
|----------|--------|
| `Ctrl+C` | Cancel current operation |
| `Ctrl+D` | Exit DSPy Code |
| `â†‘` / `â†“` | Navigate history |
| `Tab` | Autocomplete |
| `Ctrl+L` | Clear screen |

## Visual Feedback

### Progress Indicators

Watch for visual feedback:

**Thinking:**

```
âš™ï¸  Generating your DSPy module...
```

**Success:**

```
âœ“ Module created successfully!
```

**Error:**

```
âœ— Validation failed: Missing InputField
```

**Warning:**

```
âš ï¸  DSPy version is old. Consider upgrading.
```

### Code Display

Generated code is beautifully formatted:

```python
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Generated DSPy Module â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ import dspy                                                                â”‚
â”‚                                                                            â”‚
â”‚ class SentimentSignature(dspy.Signature):                                 â”‚
â”‚     """Analyze sentiment of text."""                                      â”‚
â”‚     text = dspy.InputField(desc="Text to analyze")                        â”‚
â”‚     sentiment = dspy.OutputField(desc="positive, negative, or neutral")   â”‚
â”‚                                                                            â”‚
â”‚ class SentimentAnalyzer(dspy.Module):                                     â”‚
â”‚     def __init__(self):                                                   â”‚
â”‚         super().__init__()                                                â”‚
â”‚         self.predictor = dspy.Predict(SentimentSignature)                 â”‚
â”‚                                                                            â”‚
â”‚     def forward(self, text):                                              â”‚
â”‚         return self.predictor(text=text)                                  â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

### Next Steps

After generation, see suggested actions:

```
Next Steps:
â€¢ Type /save <filename> to save this code
â€¢ Type /validate to check for errors
â€¢ Type /run to test execution
â€¢ Type /status to see what's in context
â€¢ Ask me to create a complete program
â€¢ Request optimizations or improvements
```

## Common Patterns

### Pattern 1: Quick Prototype

```
â†’ /init
â†’ /connect ollama llama3.1:8b
â†’ Create a [task] module
â†’ /save module.py
â†’ /run
```

### Pattern 2: Iterative Development

```
â†’ Create a basic [task] module
â†’ Add [feature]
â†’ Improve [aspect]
â†’ /validate
â†’ /save module.py
```

### Pattern 3: Full Workflow

```
â†’ /init
â†’ /connect [model]
â†’ Create [program]
â†’ /save program.py
â†’ Generate 50 examples for [task]
â†’ /save-data examples.jsonl
â†’ /optimize program.py examples.jsonl
```

### Pattern 4: Learning Mode

```
â†’ What is [concept]?
â†’ Show me an example of [feature]
â†’ Create a simple [task] using [technique]
â†’ Explain how this works
```

## Troubleshooting

### Command Not Working

**Check spelling:**

```
/hlep  âœ—
/help  âœ“
```

**Use `/help` to see all commands**

### Code Not Saving

**Check context:**

```
/status
```

**Generate code first if context is empty**

### Model Not Responding

**Check connection:**

```
/status
```

**Reconnect if needed:**

```
/disconnect
/connect ollama llama3.1:8b
```

### Unexpected Behavior

**Clear context and restart:**

```
/clear
```

**Or exit and restart:**

```
/exit
dspy-code
```

## Best Practices

### 1. Start with /init

Always initialize your project:

```
/init
```

This builds the codebase index!

### 2. Check /status Often

Know what's in context:

```
/status
```

### 3. Save Frequently

Don't lose your work:

```
/save module.py
/session save my-project
```

### 4. Validate Before Running

Catch errors early:

```
/validate
/run
```

### 5. Be Specific

Better requests = better code:

```
Good: "Create a ChainOfThought module for sentiment analysis with text input and sentiment output"

Bad: "Make sentiment thing"
```

### 6. Iterate

Refine through conversation:

```
â†’ Create module
â†’ Add feature
â†’ Improve aspect
â†’ Fix issue
```

### 7. Use Natural Language

Don't overthink it:

```
â†’ Make it better
â†’ Add error handling
â†’ Simplify this
â†’ Optimize for speed
```

## Summary

Interactive Mode provides:

- âœ… Natural language interface
- âœ… Context-aware responses
- âœ… Session persistence
- âœ… Real-time validation
- âœ… Iterative development
- âœ… Learning support

**Master these concepts:**

- Session context
- Slash commands
- Natural language requests
- Iterative refinement
- Session management

[Learn All Slash Commands â†’](slash-commands.md){ .md-button .md-button--primary }
[Build Your First Program â†’](../getting-started/first-program.md){ .md-button }
